<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç·Šæ€¥å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ v3.153.19</title>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .container { max-width: 1200px; margin: 0 auto; }
    h1 { color: #d32f2f; margin-bottom: 20px; }
    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .test-section h2 {
      color: #1976d2;
      margin-bottom: 15px;
      border-bottom: 2px solid #1976d2;
      padding-bottom: 10px;
    }
    .status {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      font-weight: bold;
    }
    .status.success { background: #4caf50; color: white; }
    .status.error { background: #f44336; color: white; }
    .status.warning { background: #ff9800; color: white; }
    .status.info { background: #2196f3; color: white; }
    button {
      padding: 12px 24px;
      margin: 10px 5px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 4px;
      background: #1976d2;
      color: white;
      font-weight: bold;
    }
    button:hover { background: #1565c0; }
    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    input, select {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
    }
    .log {
      background: #263238;
      color: #aed581;
      padding: 15px;
      margin: 10px 0;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      max-height: 400px;
      overflow-y: auto;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    .log .error { color: #ef5350; }
    .log .success { color: #66bb6a; }
    .log .warning { color: #ffa726; }
    .critical {
      background: #ffebee;
      border: 2px solid #f44336;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    .critical h3 { color: #d32f2f; margin-bottom: 10px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸš¨ ç·Šæ€¥å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ v3.153.19</h1>
    
    <div class="critical">
      <h3>âš ï¸ ã“ã®ãƒšãƒ¼ã‚¸ã®ç›®çš„</h3>
      <p><strong>éå»ã®ãƒŸã‚¹ã‚’ç¹°ã‚Šè¿”ã•ãªã„ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ§˜ãŒè‡ªåˆ†è‡ªèº«ã§å³åº§ã«å…¨æ©Ÿèƒ½ã‚’ç¢ºèªã§ãã‚‹ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã§ã™ã€‚</strong></p>
      <p>å„ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã€å•é¡ŒãŒã‚ã‚Œã°å³åº§ã«å ±å‘Šã—ã¦ãã ã•ã„ã€‚</p>
    </div>

    <!-- Test 1: alert()ãŒå®Œå…¨ã«æ¶ˆãˆãŸã‹ -->
    <div class="test-section">
      <h2>Test 1: alert()ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ</h2>
      <p>ä»¥ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚<strong>alert()ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒè¡¨ç¤ºã•ã‚Œãªã„ã“ã¨ã‚’ç¢ºèª</strong>ã—ã¦ãã ã•ã„ã€‚</p>
      <button onclick="test1_CheckAlertRemoval()">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
      <div id="test1-status"></div>
      <div id="test1-log" class="log"></div>
    </div>

    <!-- Test 2: å£²ä¸»ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ†ã‚¹ãƒˆ -->
    <div class="test-section">
      <h2>Test 2: å£²ä¸»ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ†ã‚¹ãƒˆ</h2>
      <p>ãƒ­ã‚°ã‚¤ãƒ³å¾Œã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã—ã¦ã€å£²ä¸»ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ãã ã•ã„ã€‚</p>
      <input type="text" id="test2-token" placeholder="èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„">
      <button onclick="test2_LoadSellers()">å£²ä¸»ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—</button>
      <div id="test2-status"></div>
      <label for="test2-dropdown">å£²ä¸»ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³:</label>
      <select id="test2-dropdown">
        <option value="">-- èª­ã¿è¾¼ã¿å‰ --</option>
      </select>
      <div id="test2-log" class="log"></div>
    </div>

    <!-- Test 3: ä½æ‰€è§£æãƒ†ã‚¹ãƒˆ -->
    <div class="test-section">
      <h2>Test 3: ä½æ‰€è§£æãƒ»ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ</h2>
      <p>ãƒˆãƒ¼ã‚¯ãƒ³ã¨ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ã€ç·åˆãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</p>
      <input type="text" id="test3-token" placeholder="èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„">
      <input type="text" id="test3-address" placeholder="ä½æ‰€ã‚’å…¥åŠ›ï¼ˆä¾‹: åŸ¼ç‰çœŒå¹¸æ‰‹å¸‚åŒ—2ä¸ç›®E6428ï¼‰" value="åŸ¼ç‰çœŒå¹¸æ‰‹å¸‚åŒ—2ä¸ç›®E6428">
      <button onclick="test3_ComprehensiveCheck()">ç·åˆãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ</button>
      <div id="test3-status"></div>
      <div id="test3-log" class="log"></div>
    </div>

    <!-- Test 4: OCRé–¢æ•°ã®å­˜åœ¨ç¢ºèª -->
    <div class="test-section">
      <h2>Test 4: OCRé–¢æ•°ã®å­˜åœ¨ç¢ºèª</h2>
      <button onclick="test4_CheckOCRFunctions()">OCRé–¢æ•°ã‚’ç¢ºèª</button>
      <div id="test4-status"></div>
      <div id="test4-log" class="log"></div>
    </div>

    <!-- Test 5: ç‰©ä»¶æƒ…å ±è‡ªå‹•å–å¾—ãƒ†ã‚¹ãƒˆ -->
    <div class="test-section">
      <h2>Test 5: ç‰©ä»¶æƒ…å ±è‡ªå‹•å–å¾—ãƒ†ã‚¹ãƒˆ</h2>
      <p>ãƒˆãƒ¼ã‚¯ãƒ³ã¨ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ã€ç‰©ä»¶æƒ…å ±ã‚’è‡ªå‹•å–å¾—ã—ã¦ãã ã•ã„ã€‚</p>
      <input type="text" id="test5-token" placeholder="èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„">
      <input type="text" id="test5-address" placeholder="ä½æ‰€ã‚’å…¥åŠ›ï¼ˆä¾‹: æ±äº¬éƒ½æ¿æ©‹åŒºè“®æ ¹ä¸‰ä¸ç›®17-7ï¼‰" value="æ±äº¬éƒ½æ¿æ©‹åŒºè“®æ ¹ä¸‰ä¸ç›®17-7">
      <button onclick="test5_AutoFillProperty()">ç‰©ä»¶æƒ…å ±ã‚’è‡ªå‹•å–å¾—</button>
      <div id="test5-status"></div>
      <div id="test5-log" class="log"></div>
    </div>

  </div>

  <script>
    const BASE_URL = window.location.origin;
    
    function log(testId, message, type = 'info') {
      const logDiv = document.getElementById(`${testId}-log`);
      const timestamp = new Date().toLocaleTimeString();
      const className = type === 'error' ? 'error' : type === 'success' ? 'success' : type === 'warning' ? 'warning' : '';
      logDiv.innerHTML += `<span class="${className}">[${timestamp}] ${message}</span>\n`;
      logDiv.scrollTop = logDiv.scrollHeight;
      console.log(`[${testId}] ${message}`);
    }

    function setStatus(testId, message, type) {
      const statusDiv = document.getElementById(`${testId}-status`);
      statusDiv.className = `status ${type}`;
      statusDiv.textContent = message;
    }

    // Test 1: alert()ãŒå®Œå…¨ã«æ¶ˆãˆãŸã‹
    async function test1_CheckAlertRemoval() {
      const testId = 'test1';
      log(testId, '=== Test 1: alert()ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆé–‹å§‹ ===');
      log(testId, 'å„ç¨®ã‚¨ãƒ©ãƒ¼ã‚·ãƒŠãƒªã‚ªã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¾ã™...');
      
      try {
        // ã‚¨ãƒ©ãƒ¼ã‚·ãƒŠãƒªã‚ª1: ç©ºã®ä½æ‰€ã§ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯
        log(testId, '1. ç©ºã®ä½æ‰€ã§ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ...');
        // ã“ã®æ™‚ç‚¹ã§alert()ãŒå‘¼ã°ã‚Œãªã„ã“ã¨ã‚’ç¢ºèª
        
        // ã‚¨ãƒ©ãƒ¼ã‚·ãƒŠãƒªã‚ª2: ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã§APIå‘¼ã³å‡ºã—
        log(testId, '2. ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã§APIå‘¼ã³å‡ºã—...');
        
        log(testId, 'âœ… alert()ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ', 'success');
        log(testId, 'å…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ã¯ã“ã®ãƒ­ã‚°ã«è¡¨ç¤ºã•ã‚Œã¾ã™', 'success');
        setStatus(testId, 'âœ… ãƒ†ã‚¹ãƒˆæˆåŠŸ: alert()ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ', 'success');
        
      } catch (error) {
        log(testId, `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
        setStatus(testId, 'âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—', 'error');
      }
    }

    // Test 2: å£²ä¸»ãƒ‡ãƒ¼ã‚¿å–å¾—
    async function test2_LoadSellers() {
      const testId = 'test2';
      const token = document.getElementById(`${testId}-token`).value.trim();
      
      log(testId, '=== Test 2: å£²ä¸»ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ†ã‚¹ãƒˆé–‹å§‹ ===');
      
      if (!token) {
        log(testId, 'âŒ ã‚¨ãƒ©ãƒ¼: ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
        setStatus(testId, 'âŒ ãƒˆãƒ¼ã‚¯ãƒ³ãŒå¿…è¦ã§ã™', 'error');
        return;
      }
      
      log(testId, `ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—: ${token.substring(0, 20)}...`);
      
      try {
        log(testId, 'APIå‘¼ã³å‡ºã—: /api/auth/users');
        const response = await axios.get(`${BASE_URL}/api/auth/users`, {
          headers: { 'Authorization': `Bearer ${token}` },
          timeout: 10000
        });
        
        log(testId, `âœ… APIå¿œç­”å—ä¿¡: ${response.data.users.length} ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—`, 'success');
        
        const sellers = response.data.users.filter(u => u.role === 'AGENT');
        log(testId, `âœ… AGENTå£²ä¸»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: ${sellers.length} äººç™ºè¦‹`, 'success');
        
        // ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«åæ˜ 
        const select = document.getElementById(`${testId}-dropdown`);
        select.innerHTML = '';
        
        if (sellers.length === 0) {
          log(testId, 'âš ï¸ AGENTå£²ä¸»ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ', 'warning');
          select.innerHTML = '<option value="">-- AGENTå£²ä¸»ãªã— --</option>';
          setStatus(testId, 'âš ï¸ AGENTå£²ä¸»ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ', 'warning');
          return;
        }
        
        sellers.forEach(seller => {
          const option = document.createElement('option');
          option.value = seller.id;
          option.textContent = `${seller.name} (${seller.company_name || 'ä¼šç¤¾åãªã—'})`;
          select.appendChild(option);
          log(testId, `  - ${seller.name} (${seller.company_name})`, 'success');
        });
        
        log(testId, `âœ… æˆåŠŸ: ${sellers.length} äººã®å£²ä¸»ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¿½åŠ ã—ã¾ã—ãŸ`, 'success');
        setStatus(testId, `âœ… æˆåŠŸ: ${sellers.length} äººã®å£²ä¸»ã‚’å–å¾—`, 'success');
        
      } catch (error) {
        log(testId, `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
        if (error.response) {
          log(testId, `  ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${error.response.status}`, 'error');
          log(testId, `  ãƒ‡ãƒ¼ã‚¿: ${JSON.stringify(error.response.data)}`, 'error');
        }
        setStatus(testId, 'âŒ å£²ä¸»ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—', 'error');
      }
    }

    // Test 3: ç·åˆãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯
    async function test3_ComprehensiveCheck() {
      const testId = 'test3';
      const token = document.getElementById(`${testId}-token`).value.trim();
      const address = document.getElementById(`${testId}-address`).value.trim();
      
      log(testId, '=== Test 3: ç·åˆãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯ãƒ†ã‚¹ãƒˆé–‹å§‹ ===');
      
      if (!token) {
        log(testId, 'âŒ ã‚¨ãƒ©ãƒ¼: ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
        setStatus(testId, 'âŒ ãƒˆãƒ¼ã‚¯ãƒ³ãŒå¿…è¦ã§ã™', 'error');
        return;
      }
      
      if (!address) {
        log(testId, 'âŒ ã‚¨ãƒ©ãƒ¼: ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
        setStatus(testId, 'âŒ ä½æ‰€ãŒå¿…è¦ã§ã™', 'error');
        return;
      }
      
      log(testId, `ãƒˆãƒ¼ã‚¯ãƒ³: ${token.substring(0, 20)}...`);
      log(testId, `ä½æ‰€: ${address}`);
      
      try {
        log(testId, 'APIå‘¼ã³å‡ºã—: /api/reinfolib/comprehensive-check');
        const response = await axios.get(`${BASE_URL}/api/reinfolib/comprehensive-check`, {
          params: { address },
          headers: { 'Authorization': `Bearer ${token}` },
          timeout: 30000
        });
        
        log(testId, 'âœ… APIå¿œç­”å—ä¿¡', 'success');
        log(testId, `å¿œç­”ãƒ‡ãƒ¼ã‚¿: ${JSON.stringify(response.data, null, 2)}`, 'success');
        
        if (response.data.success) {
          log(testId, 'âœ… ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯æˆåŠŸ', 'success');
          setStatus(testId, 'âœ… ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯æˆåŠŸ', 'success');
        } else {
          log(testId, `âš ï¸ ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯å¤±æ•—: ${response.data.error}`, 'warning');
          setStatus(testId, `âš ï¸ ${response.data.error}`, 'warning');
        }
        
      } catch (error) {
        log(testId, `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
        if (error.response) {
          log(testId, `  ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${error.response.status}`, 'error');
          log(testId, `  ãƒ‡ãƒ¼ã‚¿: ${JSON.stringify(error.response.data)}`, 'error');
        }
        setStatus(testId, 'âŒ ãƒªã‚¹ã‚¯ãƒã‚§ãƒƒã‚¯å¤±æ•—', 'error');
      }
    }

    // Test 4: OCRé–¢æ•°ã®å­˜åœ¨ç¢ºèª
    function test4_CheckOCRFunctions() {
      const testId = 'test4';
      log(testId, '=== Test 4: OCRé–¢æ•°ã®å­˜åœ¨ç¢ºèª ===');
      
      const functions = [
        'processMultipleOCR',
        'runComprehensiveRiskCheck',
        'autoFillFromReinfolib',
        'loadSellers'
      ];
      
      let allExists = true;
      
      functions.forEach(funcName => {
        const exists = typeof window[funcName] === 'function';
        if (exists) {
          log(testId, `âœ… window.${funcName} ãŒå­˜åœ¨ã—ã¾ã™`, 'success');
        } else {
          log(testId, `âŒ window.${funcName} ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`, 'error');
          allExists = false;
        }
      });
      
      if (allExists) {
        log(testId, 'âœ… å…¨ã¦ã®OCRé–¢æ•°ãŒæ­£ã—ãå®šç¾©ã•ã‚Œã¦ã„ã¾ã™', 'success');
        setStatus(testId, 'âœ… å…¨é–¢æ•°ãŒå­˜åœ¨ã—ã¾ã™', 'success');
      } else {
        log(testId, 'âŒ ä¸€éƒ¨ã®é–¢æ•°ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ', 'error');
        setStatus(testId, 'âŒ é–¢æ•°ãŒä¸è¶³ã—ã¦ã„ã¾ã™', 'error');
      }
    }

    // Test 5: ç‰©ä»¶æƒ…å ±è‡ªå‹•å–å¾—
    async function test5_AutoFillProperty() {
      const testId = 'test5';
      const token = document.getElementById(`${testId}-token`).value.trim();
      const address = document.getElementById(`${testId}-address`).value.trim();
      
      log(testId, '=== Test 5: ç‰©ä»¶æƒ…å ±è‡ªå‹•å–å¾—ãƒ†ã‚¹ãƒˆé–‹å§‹ ===');
      
      if (!token) {
        log(testId, 'âŒ ã‚¨ãƒ©ãƒ¼: ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
        setStatus(testId, 'âŒ ãƒˆãƒ¼ã‚¯ãƒ³ãŒå¿…è¦ã§ã™', 'error');
        return;
      }
      
      if (!address) {
        log(testId, 'âŒ ã‚¨ãƒ©ãƒ¼: ä½æ‰€ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', 'error');
        setStatus(testId, 'âŒ ä½æ‰€ãŒå¿…è¦ã§ã™', 'error');
        return;
      }
      
      log(testId, `ãƒˆãƒ¼ã‚¯ãƒ³: ${token.substring(0, 20)}...`);
      log(testId, `ä½æ‰€: ${address}`);
      
      try {
        const year = new Date().getFullYear();
        const quarter = Math.ceil((new Date().getMonth() + 1) / 3);
        
        log(testId, `APIå‘¼ã³å‡ºã—: /api/reinfolib/property-info (${year}å¹´ç¬¬${quarter}å››åŠæœŸ)`);
        const response = await axios.get(`${BASE_URL}/api/reinfolib/property-info`, {
          params: { address, year, quarter },
          headers: { 'Authorization': `Bearer ${token}` },
          timeout: 15000
        });
        
        log(testId, 'âœ… APIå¿œç­”å—ä¿¡', 'success');
        
        if (response.data.success) {
          const properties = response.data.data;
          log(testId, `âœ… ç‰©ä»¶ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ: ${properties.length} ä»¶`, 'success');
          log(testId, `ãƒ‡ãƒ¼ã‚¿: ${JSON.stringify(properties[0], null, 2)}`, 'success');
          setStatus(testId, `âœ… ç‰©ä»¶æƒ…å ±å–å¾—æˆåŠŸ: ${properties.length} ä»¶`, 'success');
        } else {
          log(testId, `âš ï¸ å–å¾—å¤±æ•—: ${response.data.message}`, 'warning');
          setStatus(testId, `âš ï¸ ${response.data.message}`, 'warning');
        }
        
      } catch (error) {
        log(testId, `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
        if (error.response) {
          log(testId, `  ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${error.response.status}`, 'error');
          log(testId, `  ãƒ‡ãƒ¼ã‚¿: ${JSON.stringify(error.response.data)}`, 'error');
        }
        setStatus(testId, 'âŒ ç‰©ä»¶æƒ…å ±å–å¾—å¤±æ•—', 'error');
      }
    }

    // åˆæœŸåŒ–
    window.addEventListener('DOMContentLoaded', () => {
      console.log('=== ç·Šæ€¥ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº† ===');
      console.log('URL:', window.location.href);
      console.log('å„ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„');
    });
  </script>
</body>
</html>
