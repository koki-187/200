# ğŸ“§ Resend & Sentry è©³ç´°è¨­å®šã‚¬ã‚¤ãƒ‰

## ğŸ“‹ ç›®æ¬¡

1. [Resendè¨­å®šï¼ˆãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼‰](#resendè¨­å®šãƒ¡ãƒ¼ãƒ«é€šçŸ¥)
2. [Sentryè¨­å®šï¼ˆã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼‰](#sentryè¨­å®šã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°)
3. [å‹•ä½œç¢ºèª](#å‹•ä½œç¢ºèª)
4. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

---

## ğŸ“§ Resendè¨­å®šï¼ˆãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼‰

### ğŸ“Š Resendæ¦‚è¦

**ç”¨é€”**: ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ï¼ˆæ¡ˆä»¶æ›´æ–°ã€ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã€æœŸé™ã‚¢ãƒ©ãƒ¼ãƒˆç­‰ï¼‰  
**ç„¡æ–™ãƒ—ãƒ©ãƒ³**: æœˆ3,000é€šã€1æ—¥100é€šã¾ã§  
**å¿…è¦æ€§**: ğŸŸ¡ ä¸­ï¼ˆãªãã¦ã‚‚ã‚³ã‚¢æ©Ÿèƒ½ã¯å‹•ä½œï¼‰  
**æ‰€è¦æ™‚é–“**: ç´„10åˆ†

---

### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ

#### 1-1. Resendå…¬å¼ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹

**URL**: https://resend.com/signup

#### 1-2. ç™»éŒ²æ–¹æ³•ã‚’é¸æŠ

ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§ç™»éŒ²ã§ãã¾ã™:

**æ–¹æ³•A: GitHubã§ç™»éŒ²ï¼ˆæ¨å¥¨ï¼‰**
1. "Continue with GitHub"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
3. Resendã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’æ‰¿èª

**æ–¹æ³•B: Emailã§ç™»éŒ²**
1. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
2. "Continue with Email"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. å±Šã„ãŸãƒ¡ãƒ¼ãƒ«ã®ç¢ºèªãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯

#### 1-3. åŸºæœ¬æƒ…å ±å…¥åŠ›

**å…¥åŠ›é …ç›®**:
- **Name**: ã‚ãªãŸã®åå‰ï¼ˆä¾‹: Kokiï¼‰
- **Company** (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): ä¼šç¤¾åï¼ˆç©ºæ¬„ã§ã‚‚OKï¼‰
- **Use Case**: `Transactional Emails`ã‚’é¸æŠ

#### 1-4. ãƒ¡ãƒ¼ãƒ«ç¢ºèªï¼ˆEmailã§ç™»éŒ²ã—ãŸå ´åˆï¼‰

1. ç™»éŒ²ã—ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ç¢ºèªãƒ¡ãƒ¼ãƒ«ãŒå±Šã
2. "Verify Email"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ–ãƒ©ã‚¦ã‚¶ã§è‡ªå‹•çš„ã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒé–‹ã

---

### ã‚¹ãƒ†ãƒƒãƒ—2: APIã‚­ãƒ¼å–å¾—

#### 2-1. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹

ç™»éŒ²å®Œäº†å¾Œã€è‡ªå‹•çš„ã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒé–‹ãã¾ã™ã€‚  
ã¾ãŸã¯ã€https://resend.com/dashboard ã«ã‚¢ã‚¯ã‚»ã‚¹ã€‚

#### 2-2. API Keys ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ç§»å‹•

**æ‰‹é †**:
1. å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®**"API Keys"**ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã¾ãŸã¯ã€https://resend.com/api-keys ã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹

#### 2-3. æ–°ã—ã„APIã‚­ãƒ¼ã‚’ä½œæˆ

**æ‰‹é †**:
1. **"Create API Key"**ãƒœã‚¿ãƒ³ï¼ˆå³ä¸Šï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯

2. **APIã‚­ãƒ¼æƒ…å ±ã‚’å…¥åŠ›**:
   - **Name**: `real-estate-200units-production`
   - **Permission**: 
     - `Full Access`ï¼ˆæ¨å¥¨ï¼‰
     - ã¾ãŸã¯ `Sending Access`ï¼ˆé€ä¿¡ã®ã¿ï¼‰
   - **Domain** (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): ç©ºæ¬„ã§OK

3. **"Create"**ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

#### 2-4. APIã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼

**é‡è¦**: APIã‚­ãƒ¼ã¯ä¸€åº¦ã—ã‹è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ï¼

**å½¢å¼**: `re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

**ã‚³ãƒ”ãƒ¼æ–¹æ³•**:
1. è¡¨ç¤ºã•ã‚ŒãŸAPIã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼
2. å®‰å…¨ãªå ´æ‰€ã«ä¸€æ™‚ä¿å­˜ï¼ˆãƒ¡ãƒ¢å¸³ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ç­‰ï¼‰

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„**:
- âš ï¸ ã“ã®APIã‚­ãƒ¼ã¯äºŒåº¦ã¨è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“
- âš ï¸ GitHubã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã“ã¨
- âš ï¸ å…¬é–‹ãƒãƒ£ãƒ³ãƒãƒ«ã«è²¼ã‚Šä»˜ã‘ãªã„ã“ã¨

---

### ã‚¹ãƒ†ãƒƒãƒ—3: Cloudflare Pagesã«è¨­å®š

#### 3-1. ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã§è¨­å®šã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ

```bash
# ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /home/user/webapp

# APIã‚­ãƒ¼ã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®šï¼ˆå–å¾—ã—ãŸAPIã‚­ãƒ¼ã«ç½®ãæ›ãˆï¼‰
echo "re_YOUR_API_KEY_HERE" | npx wrangler pages secret put RESEND_API_KEY --project-name real-estate-200units-v2
```

**å®Ÿè¡Œä¾‹**:
```bash
# å®Ÿéš›ã®APIã‚­ãƒ¼ã«ç½®ãæ›ãˆã¦å®Ÿè¡Œ
echo "re_AbC123XyZ456..." | npx wrangler pages secret put RESEND_API_KEY --project-name real-estate-200units-v2
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
â›…ï¸ wrangler 4.47.0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸŒ€ Creating the secret for the Pages project "real-estate-200units-v2" (production)
âœ¨ Success! Uploaded secret RESEND_API_KEY
```

#### 3-2. è¨­å®šç¢ºèª

```bash
# ç’°å¢ƒå¤‰æ•°ä¸€è¦§ã‚’è¡¨ç¤º
npx wrangler pages secret list --project-name real-estate-200units-v2
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
The "production" environment of your Pages project "real-estate-200units-v2" has access to the following secrets:
  - JWT_SECRET: Value Encrypted âœ…
  - OPENAI_API_KEY: Value Encrypted âœ…
  - RESEND_API_KEY: Value Encrypted âœ… â† è¿½åŠ ã•ã‚ŒãŸ
```

---

### ã‚¹ãƒ†ãƒƒãƒ—4: é€ä¿¡å…ƒãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### 4-1. ç„¡æ–™ãƒ—ãƒ©ãƒ³ã®åˆ¶é™

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé€ä¿¡å…ƒ**: `onboarding@resend.dev`

**åˆ¶é™**:
- ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰ã®ã¿é€ä¿¡å¯èƒ½
- ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆä¾‹: `noreply@yourdomain.com`ï¼‰ã¯**æœ‰æ–™ãƒ—ãƒ©ãƒ³**ï¼ˆ$20/æœˆï¼‰ãŒå¿…è¦

**æ¨å¥¨**: 
- âœ… ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ã‚‚ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã¯å®Œå…¨ã«æ©Ÿèƒ½ã—ã¾ã™
- âœ… ã¾ãšã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‰ãƒ¡ã‚¤ãƒ³ã§é‹ç”¨é–‹å§‹
- â¸ï¸ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯å¿…è¦ã«å¿œã˜ã¦å¾Œã§è¨­å®š

#### 4-2. ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šï¼ˆæœ‰æ–™ãƒ—ãƒ©ãƒ³ã®å ´åˆï¼‰

**æœ‰æ–™ãƒ—ãƒ©ãƒ³ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å¾Œ**:

1. **Domains ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ç§»å‹•**:
   - å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ â†’ "Domains"

2. **ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ **:
   - "Add Domain"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’å…¥åŠ›ï¼ˆä¾‹: `yourdomain.com`ï¼‰

3. **DNSè¨­å®š**:
   - è¡¨ç¤ºã•ã‚ŒãŸDNSãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã®DNSè¨­å®šã«è¿½åŠ 
   - SPF, DKIM, DMARC ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¨­å®š

4. **ç¢ºèª**:
   - Resendãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§"Verify"ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ç¢ºèªå®Œäº†ã¾ã§æ•°åˆ†ã€œæ•°æ™‚é–“

---

### ã‚¹ãƒ†ãƒƒãƒ—5: å‹•ä½œç¢ºèª

#### 5-1. ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«APIå‘¼ã³å‡ºã—

**æœ¬ç•ªç’°å¢ƒã§ãƒ†ã‚¹ãƒˆ**:

```bash
# ã¾ãšã€ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦JWTãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—
TOKEN=$(curl -s -X POST https://6940780f.real-estate-200units-v2.pages.dev/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@example.com","password":"Admin!2025"}' | jq -r '.token')

# ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«é€ä¿¡
curl -X POST https://6940780f.real-estate-200units-v2.pages.dev/api/email/send \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "to": "YOUR_EMAIL@example.com",
    "subject": "Test Email from Resend",
    "html": "<h1>Hello from Resend!</h1><p>This is a test email.</p>"
  }'
```

**YOUR_EMAIL@example.com ã‚’å®Ÿéš›ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ç½®ãæ›ãˆã¦ãã ã•ã„**

#### 5-2. æœŸå¾…ã•ã‚Œã‚‹çµæœ

**æˆåŠŸæ™‚**:
```json
{
  "success": true,
  "messageId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
}
```

**ãƒ¡ãƒ¼ãƒ«å—ä¿¡**:
- æ•°ç§’ã€œæ•°åˆ†ä»¥å†…ã«å—ä¿¡ãƒˆãƒ¬ã‚¤ã«å±Šã
- é€ä¿¡å…ƒ: `onboarding@resend.dev`
- ä»¶å: "Test Email from Resend"

#### 5-3. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**ãƒ¡ãƒ¼ãƒ«ãŒå±Šã‹ãªã„å ´åˆ**:
1. **ã‚¹ãƒ‘ãƒ ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç¢ºèª**
2. **Resendãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§é€ä¿¡å±¥æ­´ç¢ºèª**:
   - https://resend.com/emails
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
3. **APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚¨ãƒ©ãƒ¼ç¢ºèª**:
   ```json
   {
     "error": "Invalid API key"
   }
   ```
   â†’ APIã‚­ãƒ¼ãŒé–“é•ã£ã¦ã„ã‚‹å¯èƒ½æ€§

---

## ğŸ› Sentryè¨­å®šï¼ˆã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼‰

### ğŸ“Š Sentryæ¦‚è¦

**ç”¨é€”**: ã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°  
**ç„¡æ–™ãƒ—ãƒ©ãƒ³**: æœˆ5,000ã‚¨ãƒ©ãƒ¼ã€1ãƒ¦ãƒ¼ã‚¶ãƒ¼  
**å¿…è¦æ€§**: ğŸŸ¡ ä¸­ï¼ˆé–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°ã«æœ‰ç”¨ï¼‰  
**æ‰€è¦æ™‚é–“**: ç´„10åˆ†

---

### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ

#### 1-1. Sentryå…¬å¼ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹

**URL**: https://sentry.io/signup/

#### 1-2. ç™»éŒ²æ–¹æ³•ã‚’é¸æŠ

ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§ç™»éŒ²ã§ãã¾ã™:

**æ–¹æ³•A: GitHubã§ç™»éŒ²ï¼ˆæ¨å¥¨ï¼‰**
1. "Sign up with GitHub"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
3. Sentryã¸ã®ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã‚’æ‰¿èª

**æ–¹æ³•B: Emailã§ç™»éŒ²**
1. ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
2. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š
3. "Create Account"ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. å±Šã„ãŸãƒ¡ãƒ¼ãƒ«ã®ç¢ºèªãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯

#### 1-3. åŸºæœ¬æƒ…å ±å…¥åŠ›

**å…¥åŠ›é …ç›®**:
- **Full Name**: ã‚ãªãŸã®åå‰
- **Organization Name**: `Real Estate 200 Units`ï¼ˆã¾ãŸã¯ä»»æ„ã®åå‰ï¼‰
- **Select your role**: `Developer`ã‚’é¸æŠ

#### 1-4. ãƒ—ãƒ©ãƒ³é¸æŠ

**ãƒ—ãƒ©ãƒ³**: `Developer`ï¼ˆç„¡æ–™ãƒ—ãƒ©ãƒ³ï¼‰ã‚’é¸æŠ

**ç„¡æ–™ãƒ—ãƒ©ãƒ³ã®åˆ¶é™**:
- æœˆ5,000ã‚¨ãƒ©ãƒ¼
- 1ãƒ¦ãƒ¼ã‚¶ãƒ¼
- ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“: 30æ—¥

---

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

#### 2-1. ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é¸æŠ

**ç”»é¢**: "Create a project"

**é¸æŠè‚¢**:
1. **Platform**: `Node.js`ã‚’é¸æŠ
   - ã¾ãŸã¯ `JavaScript`
   - Cloudflare Workersç”¨ã®è¨­å®š

2. **Project Name**: `real-estate-200units`

3. **Alert Frequency**: `On every new issue`ï¼ˆæ¨å¥¨ï¼‰

4. **Create Project**ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

#### 2-2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ç”»é¢

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆå¾Œã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚  
**ã“ã®ãƒšãƒ¼ã‚¸ã¯å¾Œã§å‚ç…§ã§ãã‚‹ã®ã§ã‚¹ã‚­ãƒƒãƒ—ã—ã¦OK**

---

### ã‚¹ãƒ†ãƒƒãƒ—3: DSNå–å¾—

#### 3-1. Project Settings ã«ç§»å‹•

**æ‰‹é †**:
1. å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®**æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ï¼ˆSettingsï¼‰**ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **Projects** â†’ `real-estate-200units`ã‚’é¸æŠ

#### 3-2. Client Keys (DSN) ã‚»ã‚¯ã‚·ãƒ§ãƒ³

**æ‰‹é †**:
1. å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®**"Client Keys (DSN)"**ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã¾ãŸã¯ã€ç›´æ¥URLã«ã‚¢ã‚¯ã‚»ã‚¹:
   ```
   https://sentry.io/settings/YOUR_ORG/projects/real-estate-200units/keys/
   ```

#### 3-3. DSNã‚’ã‚³ãƒ”ãƒ¼

**DSNå½¢å¼**: 
```
https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxx@oXXXXXXX.ingest.sentry.io/XXXXXXX
```

**ã‚³ãƒ”ãƒ¼æ–¹æ³•**:
1. "DSN"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å€¤ã‚’ã‚³ãƒ”ãƒ¼
2. å®‰å…¨ãªå ´æ‰€ã«ä¸€æ™‚ä¿å­˜

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„**:
- âš ï¸ ã“ã®DSNã¯å…¬é–‹å¯èƒ½ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ä½¿ç”¨ï¼‰
- âœ… ãŸã ã—ã€GitHubã¸ã®ã‚³ãƒŸãƒƒãƒˆã¯é¿ã‘ã‚‹ï¼ˆç’°å¢ƒå¤‰æ•°ã§ç®¡ç†ï¼‰

---

### ã‚¹ãƒ†ãƒƒãƒ—4: Cloudflare Pagesã«è¨­å®š

#### 4-1. ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã§è¨­å®šã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ

```bash
# ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /home/user/webapp

# DSNã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®šï¼ˆå–å¾—ã—ãŸDSNã«ç½®ãæ›ãˆï¼‰
echo "https://xxxxx@oXXXXXXX.ingest.sentry.io/XXXXXXX" | npx wrangler pages secret put SENTRY_DSN --project-name real-estate-200units-v2
```

**å®Ÿè¡Œä¾‹**:
```bash
# å®Ÿéš›ã®DSNã«ç½®ãæ›ãˆã¦å®Ÿè¡Œ
echo "https://a1b2c3d4e5f6...@o123456.ingest.sentry.io/7890123" | npx wrangler pages secret put SENTRY_DSN --project-name real-estate-200units-v2
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
â›…ï¸ wrangler 4.47.0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸŒ€ Creating the secret for the Pages project "real-estate-200units-v2" (production)
âœ¨ Success! Uploaded secret SENTRY_DSN
```

#### 4-2. è¨­å®šç¢ºèª

```bash
# ç’°å¢ƒå¤‰æ•°ä¸€è¦§ã‚’è¡¨ç¤º
npx wrangler pages secret list --project-name real-estate-200units-v2
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
The "production" environment of your Pages project "real-estate-200units-v2" has access to the following secrets:
  - JWT_SECRET: Value Encrypted âœ…
  - OPENAI_API_KEY: Value Encrypted âœ…
  - RESEND_API_KEY: Value Encrypted âœ…
  - SENTRY_DSN: Value Encrypted âœ… â† è¿½åŠ ã•ã‚ŒãŸ
```

---

### ã‚¹ãƒ†ãƒƒãƒ—5: ã‚³ãƒ¼ãƒ‰çµ±åˆï¼ˆæ—¢ã«æº–å‚™æ¸ˆã¿ï¼‰

#### 5-1. SentryãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ç¢ºèª

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯æ—¢ã«Sentryçµ±åˆã‚³ãƒ¼ãƒ‰ãŒæº–å‚™ã•ã‚Œã¦ã„ã¾ã™:

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/middleware/error-tracking.ts`

```typescript
import * as Sentry from '@sentry/cloudflare';

export const initSentry = (env: Env) => {
  if (env.SENTRY_DSN) {
    Sentry.init({
      dsn: env.SENTRY_DSN,
      environment: 'production',
      tracesSampleRate: 1.0,
    });
  }
};

export const captureException = (error: Error, context?: any) => {
  Sentry.captureException(error, { extra: context });
};
```

#### 5-2. ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆç¢ºèª

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/index.tsx`

```typescript
import { initSentry, captureException } from './middleware/error-tracking';

const app = new Hono<{ Bindings: Env }>();

// SentryåˆæœŸåŒ–
app.use('*', async (c, next) => {
  initSentry(c.env);
  await next();
});

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
app.onError((err, c) => {
  console.error('Unhandled error:', err);
  captureException(err, { path: c.req.path });
  return c.json({ error: 'Internal server error' }, 500);
});
```

---

### ã‚¹ãƒ†ãƒƒãƒ—6: å‹•ä½œç¢ºèª

#### 6-1. ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼é€ä¿¡

**æ–¹æ³•A: å­˜åœ¨ã—ãªã„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹**

```bash
# 404ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹
curl https://6940780f.real-estate-200units-v2.pages.dev/api/test-sentry-error
```

**æ–¹æ³•B: ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼APIã‚’ä½œæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**

ä¸€æ™‚çš„ã«ãƒ†ã‚¹ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’è¿½åŠ :

```typescript
// src/index.tsx ã«è¿½åŠ 
app.get('/api/test-sentry', (c) => {
  throw new Error('This is a test error for Sentry');
});
```

```bash
# ãƒ“ãƒ«ãƒ‰&ãƒ‡ãƒ—ãƒ­ã‚¤
npm run build
npx wrangler pages deploy dist --project-name real-estate-200units-v2

# ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼é€ä¿¡
curl https://6940780f.real-estate-200units-v2.pages.dev/api/test-sentry
```

#### 6-2. Sentryãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç¢ºèª

**æ‰‹é †**:
1. **Sentryãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹**:
   - https://sentry.io/issues/

2. **Issues ã‚¿ãƒ–ã‚’ç¢ºèª**:
   - æ–°ã—ã„ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã¯ãš
   - ã‚¨ãƒ©ãƒ¼å: "This is a test error for Sentry"
   - ç’°å¢ƒ: `production`

3. **ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’ç¢ºèª**:
   - ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹
   - ãƒªã‚¯ã‚¨ã‚¹ãƒˆæƒ…å ±ï¼ˆURL, ãƒ¡ã‚½ãƒƒãƒ‰ç­‰ï¼‰
   - ç™ºç”Ÿæ—¥æ™‚

#### 6-3. æœŸå¾…ã•ã‚Œã‚‹çµæœ

**Sentryãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**:
- âœ… ã‚¨ãƒ©ãƒ¼ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹
- âœ… ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ç’°å¢ƒãŒ`production`ã«ãªã£ã¦ã„ã‚‹
- âœ… ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæ­£ç¢º

**ãƒ¡ãƒ¼ãƒ«é€šçŸ¥**ï¼ˆè¨­å®šã—ã¦ã„ã‚‹å ´åˆï¼‰:
- âœ… æ–°ã—ã„ã‚¨ãƒ©ãƒ¼ã®ã‚¢ãƒ©ãƒ¼ãƒˆãƒ¡ãƒ¼ãƒ«ãŒå±Šã

---

## âœ… å‹•ä½œç¢ºèª

### å…¨ä½“ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### 1. ç’°å¢ƒå¤‰æ•°ç¢ºèª

```bash
npx wrangler pages secret list --project-name real-estate-200units-v2
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
The "production" environment of your Pages project "real-estate-200units-v2" has access to the following secrets:
  - JWT_SECRET: Value Encrypted âœ…
  - OPENAI_API_KEY: Value Encrypted âœ…
  - RESEND_API_KEY: Value Encrypted âœ…
  - SENTRY_DSN: Value Encrypted âœ…
```

#### 2. Resendå‹•ä½œç¢ºèª

```bash
# ãƒ­ã‚°ã‚¤ãƒ³
TOKEN=$(curl -s -X POST https://6940780f.real-estate-200units-v2.pages.dev/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@example.com","password":"Admin!2025"}' | jq -r '.token')

# ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«é€ä¿¡
curl -X POST https://6940780f.real-estate-200units-v2.pages.dev/api/email/send \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "to": "YOUR_EMAIL@example.com",
    "subject": "Test",
    "html": "<p>Test email</p>"
  }'
```

**ç¢ºèªé …ç›®**:
- âœ… ãƒ¡ãƒ¼ãƒ«ãŒå—ä¿¡ãƒˆãƒ¬ã‚¤ã«å±Šã
- âœ… é€ä¿¡å…ƒ: `onboarding@resend.dev`
- âœ… Resendãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§é€ä¿¡å±¥æ­´ç¢ºèª

#### 3. Sentryå‹•ä½œç¢ºèª

```bash
# ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ
curl https://6940780f.real-estate-200units-v2.pages.dev/api/nonexistent-endpoint
```

**ç¢ºèªé …ç›®**:
- âœ… Sentryãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆhttps://sentry.io/issues/ï¼‰ã«ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤º
- âœ… ã‚¨ãƒ©ãƒ¼è©³ç´°ãŒç¢ºèªã§ãã‚‹
- âœ… ã‚¢ãƒ©ãƒ¼ãƒˆãƒ¡ãƒ¼ãƒ«ãŒå±Šãï¼ˆè¨­å®šã—ã¦ã„ã‚‹å ´åˆï¼‰

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Resendé–¢é€£

#### å•é¡Œ1: ãƒ¡ãƒ¼ãƒ«ãŒå±Šã‹ãªã„

**åŸå› **:
- APIã‚­ãƒ¼ãŒé–“é•ã£ã¦ã„ã‚‹
- ã‚¹ãƒ‘ãƒ ãƒ•ã‚©ãƒ«ãƒ€ã«æŒ¯ã‚Šåˆ†ã‘ã‚‰ã‚Œã¦ã„ã‚‹
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒç„¡åŠ¹

**è§£æ±ºæ–¹æ³•**:
1. **ã‚¹ãƒ‘ãƒ ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç¢ºèª**
2. **Resendãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§é€ä¿¡å±¥æ­´ç¢ºèª**:
   - https://resend.com/emails
   - "Failed"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
3. **APIã‚­ãƒ¼ã‚’å†è¨­å®š**:
   ```bash
   echo "re_NEW_API_KEY" | npx wrangler pages secret put RESEND_API_KEY --project-name real-estate-200units-v2
   ```

#### å•é¡Œ2: "Invalid API key" ã‚¨ãƒ©ãƒ¼

**åŸå› **: APIã‚­ãƒ¼ãŒæ­£ã—ããªã„ã€ã¾ãŸã¯æœŸé™åˆ‡ã‚Œ

**è§£æ±ºæ–¹æ³•**:
1. Resendãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§æ–°ã—ã„APIã‚­ãƒ¼ã‚’ä½œæˆ
2. å†åº¦è¨­å®š:
   ```bash
   echo "re_NEW_API_KEY" | npx wrangler pages secret put RESEND_API_KEY --project-name real-estate-200units-v2
   ```

#### å•é¡Œ3: ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: "Rate limit exceeded"

**åŸå› **: 1æ—¥100é€šåˆ¶é™ã«é”ã—ãŸï¼ˆç„¡æ–™ãƒ—ãƒ©ãƒ³ï¼‰

**è§£æ±ºæ–¹æ³•**:
- ç¿Œæ—¥ã¾ã§å¾…ã¤
- ã¾ãŸã¯ã€æœ‰æ–™ãƒ—ãƒ©ãƒ³ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆ$20/æœˆï¼‰

---

### Sentryé–¢é€£

#### å•é¡Œ1: ã‚¨ãƒ©ãƒ¼ãŒSentryã«è¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **:
- DSNãŒé–“é•ã£ã¦ã„ã‚‹
- SentryåˆæœŸåŒ–ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•**:
1. **DSNã‚’å†ç¢ºèª**:
   ```bash
   npx wrangler pages secret list --project-name real-estate-200units-v2
   ```
2. **DSNã‚’å†è¨­å®š**:
   ```bash
   echo "https://xxxxx@oXXX.ingest.sentry.io/XXX" | npx wrangler pages secret put SENTRY_DSN --project-name real-estate-200units-v2
   ```
3. **ãƒ“ãƒ«ãƒ‰&å†ãƒ‡ãƒ—ãƒ­ã‚¤**:
   ```bash
   npm run build
   npx wrangler pages deploy dist --project-name real-estate-200units-v2
   ```

#### å•é¡Œ2: ã‚¨ãƒ©ãƒ¼ãŒé‡è¤‡ã—ã¦è¨˜éŒ²ã•ã‚Œã‚‹

**åŸå› **: åŒã˜ã‚¨ãƒ©ãƒ¼ãŒè¤‡æ•°å›ç™ºç”Ÿã—ã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**:
- Sentryã¯è‡ªå‹•çš„ã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã—ã¾ã™
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§"Merge"æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¦æ‰‹å‹•ã§ãƒãƒ¼ã‚¸å¯èƒ½

#### å•é¡Œ3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆãŒä½ã„

**è§£æ±ºæ–¹æ³•**:
`src/middleware/error-tracking.ts`ã§ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¬ãƒ¼ãƒˆã‚’èª¿æ•´:
```typescript
Sentry.init({
  dsn: env.SENTRY_DSN,
  tracesSampleRate: 1.0, // 100%ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°
});
```

---

## ğŸ“Š è¨­å®šå®Œäº†å¾Œã®çŠ¶æ…‹

### ç’°å¢ƒå¤‰æ•°ï¼ˆå…¨ä½“ï¼‰

```bash
npx wrangler pages secret list --project-name real-estate-200units-v2
```

**æœ€çµ‚çš„ãªå‡ºåŠ›**:
```
The "production" environment of your Pages project "real-estate-200units-v2" has access to the following secrets:
  - JWT_SECRET: Value Encrypted âœ… (èªè¨¼)
  - OPENAI_API_KEY: Value Encrypted âœ… (OCR)
  - RESEND_API_KEY: Value Encrypted âœ… (ãƒ¡ãƒ¼ãƒ«é€šçŸ¥)
  - SENTRY_DSN: Value Encrypted âœ… (ã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°)
```

### æœ‰åŠ¹åŒ–ã•ã‚ŒãŸæ©Ÿèƒ½

| æ©Ÿèƒ½ | çŠ¶æ…‹ | ç”¨é€” |
|-----|------|------|
| JWTèªè¨¼ | âœ… å‹•ä½œä¸­ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³ |
| OpenAI OCR | âœ… å‹•ä½œä¸­ | ç™»è¨˜ç°¿è¬„æœ¬è§£æ |
| Resendãƒ¡ãƒ¼ãƒ«é€šçŸ¥ | âœ… å‹•ä½œä¸­ | æ¡ˆä»¶æ›´æ–°ã€ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³é€šçŸ¥ |
| Sentryã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚° | âœ… å‹•ä½œä¸­ | ã‚¨ãƒ©ãƒ¼ç›£è¦–ã€ãƒ‡ãƒãƒƒã‚° |

---

## ğŸ‰ å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Resend
- [ ] ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆå®Œäº†
- [ ] APIã‚­ãƒ¼å–å¾—
- [ ] Cloudflare Pagesã«è¨­å®š
- [ ] ãƒ†ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«é€ä¿¡æˆåŠŸ
- [ ] Resendãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§é€ä¿¡å±¥æ­´ç¢ºèª

### Sentry
- [ ] ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆå®Œäº†
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] DSNå–å¾—
- [ ] Cloudflare Pagesã«è¨­å®š
- [ ] ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼é€ä¿¡æˆåŠŸ
- [ ] Sentryãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ç¢ºèª

### å…¨ä½“ç¢ºèª
- [ ] ç’°å¢ƒå¤‰æ•°4ã¤ã™ã¹ã¦è¨­å®šå®Œäº†
- [ ] æœ¬ç•ªç’°å¢ƒãŒæ­£å¸¸ç¨¼åƒ
- [ ] ãƒ¡ãƒ¼ãƒ«é€šçŸ¥å‹•ä½œç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°å‹•ä½œç¢ºèª

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **Resend Docs**: https://resend.com/docs
- **Sentry Docs**: https://docs.sentry.io/

### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
- **Resend Discord**: https://resend.com/discord
- **Sentry Discord**: https://discord.gg/sentry

### ãƒˆãƒ©ãƒ–ãƒ«æ™‚ã®é€£çµ¡å…ˆ
- **Resend Support**: support@resend.com
- **Sentry Support**: https://sentry.zendesk.com/

---

**ä½œæˆæ—¥**: 2025-11-17  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2.0.1  
**æœ¬ç•ªURL**: https://6940780f.real-estate-200units-v2.pages.dev

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: ã“ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦Resendã¨Sentryã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼
